# 基于业务主键系统解决方案
## 主键概念不应该局限在数据库的范围 
首先，这里主键不是数据库的主键，而是系统设计的概念。在数据层与数据库打交道仍然可以使用技术主键，但是在这之后，就可以放弃技术主键，而转入业务主键的概念。这个本身是可以分离的，而且这种分离更能反映域驱动开发的理念和优势。

## 主键是聚合根的主键
聚合根是一个最基本的业务单元，也是系统处理的切入点，怎么样拿到一个聚合根，就是通过主键。

## 组合主键 
有些类（聚合根）是关系类，需要不同的数据才能唯一确定，如考试，有考试代码，考区和考试时间才确定， 这种非简单主键可以看做是组合主键，有有其他简单主键组合而成。

这种组合关系，既有对象关系层面，如考试对象可以应用考试定义对象，也有键值层面，如考试代码组成12|99|2013-01-03，还有用户界面环境层面，如用户是在某个考区下，操作处理某个考试。

这些层面的组合关系看起来是一样的，如上面的例子，都是考试和考试定义， 考区的关系。 因而，很容易会想用同一套机制（代码）实现。但是，这个策略是错误的，在实施以后，随着系统的扩大和复杂，会出现扭曲需求来适应所谓框架的情况。这是极其危险的征兆。
